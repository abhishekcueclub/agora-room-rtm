{"version":3,"sources":["assets/public/CueHeader.js","SlideDrawer/Backdrop.js","components/MediaPlayer.js","SlideDrawer/SlideDrawer.js","hooks/useAgora.js","hooks/useAgoraChat.js","RoomApp.js","App.js","index.js"],"names":["CueHeader","className","Backdrop","React","Component","MediaPlayer","props","container","useRef","videoTrack","audioTrack","username","useEffect","current","play","stop","isSelf","ref","style","width","height","borderRadius","borderWidth","backgroundColor","color","minHeight","padding","position","justifyContent","alignItems","SlideDrawer","drawerClasses","this","show","type","onClick","drawerToggleClickHandler","remoteUsers","length","map","user","key","uid","_video_muted_","_audio_muted_","mutePeerAudio","mutePeerVideo","spotlightUserAction","useAgoraChat","client","channelName","useState","messages","setMessages","setMembers","currentMessage","setCurrentMessage","buzzerPressedBy","setBuzzerIsPressedBy","buzzersList","setBuzzersList","randomColor","luminosity","channel","createChannel","poked","setPoked","forceEnableVideo","setForceEnableVideo","disableAudio","setDisableAudio","disableVideo","setDisableVideo","spotlightedUser","setSpotlightedUser","pinUser","setPinUser","initRm","userId","login","toString","getMembers","then","res","catch","err","console","log","join","setLocalUserAttributes","name","data","getUserAttributes","JSON","stringify","messageObj","parse","text","action","dataMessage","author","message","sendMessage","peerId","sendMessageToPeer","offline","removePeerSpotlight","on","handleMessageReceived","attr","memberId","sendChannelMessage","pressedBuzzer","clearPressedBuzzer","sendChannelMessageToPeer","pinUserAction","AgoraRTC","createClient","codec","mode","chatClient","AgoraRTM","createInstance","extension","VirtualBackgroundExtension","RoomApp","setChannel","token","setToken","poketoUser","setPokeToUser","appid","Math","floor","random","setUsername","currentSpeaker","setCurrentSpeaker","remoteUsersMap","setRemoteUsersMap","remoteUsersSet","setRemoteUsersSet","localVideoTrack","setLocalVideoTrack","localAudioTrack","setLocalAudioTrack","joinState","setJoinState","setRemoteUsers","muteVideoState","setMuteVideoState","muteAudioState","setMuteAudioState","processor","setProcessor","virtualBackgroundEnabled","setVirtualBackgroundEnabled","isUserAudience","setIsUserAudience","getProcessorInstance","processorConst","createProcessor","init","pipe","processorDestination","setOptions","enable","disable","blurDegree","forceMute","setEnabled","setTimeout","startsWith","createLocalTracks","createMicrophoneAndCameraTracks","MicrophoneAudioTrackInitConfig","CameraVideoTrackInitConfig","microphoneTrack","cameraTrack","username_detail","setClientRole","publish","close","leave","handleUserPublished","mediaType","subscribe","Array","from","handleUserUnpublished","handleUserJoined","handleUserLeft","highlightingaSpeaker","sort","a","b","level","enableAudioVolumeIndicator","off","remoteUserProcess","Map","remoteUidDataProcess","userData","set","push","Set","muteVideo","muteAudio","updateUsername","setBackgroundBlurring","setBackgroundColor","setBackgroundImage","forceAudio","forceVideo","useAgora","setDrawerOpen","drawerOpen","spotlightedUserDetails","setSpotlightedUserDetails","pinUserDetails","setPinUserDetails","get","id","disabled","value","onChange","event","target","class","_uintid","agentProfile","teamName","imageUrl","onMessageWasSent","messageList","showEmoji","index","App","registerExtensions","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.b1dd8e7f.chunk.js","sourcesContent":["import React from \"react\";\n\nconst CueHeader = () => {\n  return (\n    <nav className=\"navbar\">\n      <h1>Cue Club</h1>\n      <div className=\"links\">\n        {/* <a href=\"/\">Cue Club</a> */}\n        {/* <a href=\"/create\" style={{ \n          color: 'white', \n          backgroundColor: '#f1356d',\n          borderRadius: '8px' \n        }}>New Blog</a> */}\n      </div>\n    </nav>\n  );\n}\n\nexport default CueHeader;","import './Backdrop.css'\n\nimport React from 'react'\nexport default class Backdrop extends React.Component {\n    render() {\n        return (\n            <div className=\"backdrop\" />\n        )\n    }\n}","import React, { useEffect, useRef } from \"react\";\r\n\r\nexport default function MediaPlayer(props) {\r\n  const container = useRef(null);\r\n\r\n  let videoTrack = props.videoTrack;\r\n  let audioTrack = props.audioTrack;\r\n  let username = props.username;\r\n\r\n  useEffect(() => {\r\n    if (!container.current) return;\r\n\r\n    if (videoTrack) {\r\n      videoTrack.play(container.current);\r\n      return () => {\r\n        videoTrack.stop();\r\n      };\r\n    }\r\n  }, [container, videoTrack]);\r\n\r\n  useEffect(() => {\r\n    if (audioTrack && !props?.isSelf) {\r\n      audioTrack.play();\r\n      return () => {\r\n        audioTrack.stop();\r\n      };\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [audioTrack]);\r\n\r\n  return (\r\n    <div\r\n      ref={container}\r\n      className=\"video-player\"\r\n      style={{ width: \"320px\", height: \"200px\", borderRadius: 5, borderWidth: 3 }}\r\n    >\r\n      <div\r\n        style={{\r\n          backgroundColor: '#333',\r\n          borderRadius: 4,\r\n          color: '#eee',\r\n          minHeight: 200,\r\n          padding: 12,\r\n          width: \"320px\",\r\n          height: \"200px\",\r\n          position: 'absolute',\r\n          justifyContent: 'center',\r\n          alignItems: 'center'\r\n        }}\r\n      >\r\n        {username}\r\n      </div>\r\n      {/* {JSON.stringify(videoTrack.play)} */}\r\n    </div>\r\n  );\r\n}\r\n","import \"./SlideDrawer.css\";\n\nimport React from \"react\";\n\nexport default class SlideDrawer extends React.Component {\n    render() {\n        let drawerClasses = \"side-drawer\";\n        if (this.props.show) {\n            drawerClasses = \"side-drawer open\";\n        }\n        return (\n            <div className={drawerClasses}>\n                <button\n                    className=\"btn btn-primary btn-sm\"\n                    type=\"button\"\n                    onClick={() => {\n                        this.props.drawerToggleClickHandler();\n                    }}\n                >\n                    Hide Participants\n                </button>\n                <h1>Participants {this.props.remoteUsers?.length}</h1>\n\n                <div>\n                    {this.props.remoteUsers.map((user) => (\n                        <div key={user.uid}>\n                            <li key={user.uid}>\n                                <b> {user.uid}</b> (\n                                <span>\n                                    {\" \"}\n                                    <label>\n                                        {\" \"}\n                                        {user._video_muted_ ? \"Video disabled\" : \"Video enabled\"}\n                                    </label>\n                                </span>\n                                ) (\n                                <span>\n                                    {\" \"}\n                                    <label>\n                                        {\" \"}\n                                        {user._audio_muted_ ? \"Audio disabled\" : \"Audio enabled\"}\n                                    </label>{\" \"}\n                                </span>\n                                )\n                                <span>\n                                    {!user._audio_muted_ ? (\n                                        <button\n                                            type=\"button\"\n                                            className=\"btn btn-primary btn-sm\"\n                                            onClick={() => {\n                                                this.props.mutePeerAudio(user.uid)\n                                            }}\n                                        >\n                                            Mute Audio\n                                        </button>\n                                    ) : null}\n                                </span>\n                                <span>\n                                    {!user._video_muted_ ? (\n                                        <button\n                                            type=\"button\"\n                                            className=\"btn btn-primary btn-sm\"\n                                            onClick={() => {\n\n                                                this.props.mutePeerVideo(user.uid)\n\n                                                // pressedBuzzer(username);\n                                            }}\n                                        >\n                                            Disable Video\n                                        </button>\n                                    ) : null}\n                                </span>\n\n                                <span>\n                                    <button\n                                        type=\"button\"\n                                        className=\"btn btn-primary btn-sm\"\n                                        onClick={() => {\n                                            this.props.spotlightUserAction(user.uid, user.uid)\n                                        }}\n                                    >\n                                        Spotlight User\n                                    </button>\n                                </span>\n\n                                {/* <span>\n                                    <button\n                                        type=\"button\"\n                                        className=\"btn btn-primary btn-sm\"\n                                        onClick={() => {\n                                            if (this.props.pinUser !== user.uid) {\n                                                this.props.pinUserAction(user.uid)\n                                            } else {\n                                                this.props.pinUserAction(\"\")\n                                            }\n                                        }}\n                                    >\n                                        Pin User\n                                    </button>\n                                </span> */}\n\n\n\n                                {/* spotlightedUser={spotlightedUser} spotlightUserAction={spotlightUserAction} */}\n                            </li>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\n","import AgoraRTC, {\r\n  CameraVideoTrackInitConfig,\r\n  MicrophoneAudioTrackInitConfig\r\n} from \"agora-rtc-sdk-ng\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n// const client = AgoraRTC.createClient({ codec: \"h264\", mode: \"rtc\" });\r\n\r\nexport default function useAgora(client, extension) {\r\n  const appid = \"2e5346b36d1f40b1bbc62472116d96de\";\r\n\r\n  let USER_ID = Math.floor(Math.random() * 100000001)\r\n  // const [userId, setUserId] = useState(null);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [currentSpeaker, setCurrentSpeaker] = useState(\"\");\r\n  const [remoteUsersMap, setRemoteUsersMap] = useState(null);\r\n  const [remoteUsersSet, setRemoteUsersSet] = useState([]);\r\n\r\n\r\n\r\n  const [localVideoTrack, setLocalVideoTrack] = useState(null);\r\n  const [localAudioTrack, setLocalAudioTrack] = useState(null);\r\n\r\n  const [joinState, setJoinState] = useState(false);\r\n\r\n  const [remoteUsers, setRemoteUsers] = useState([]);\r\n  const [muteVideoState, setMuteVideoState] = useState(true)\r\n  const [muteAudioState, setMuteAudioState] = useState(true)\r\n  // eslint-disable-next-line\r\n  const [processor, setProcessor] = useState(null)\r\n  // eslint-disable-next-line\r\n  const [virtualBackgroundEnabled, setVirtualBackgroundEnabled] = useState(false)\r\n  const [isUserAudience,setIsUserAudience] = useState(true);\r\n\r\n\r\n  // Initialization\r\n  async function getProcessorInstance() {\r\n    if (!processor && localVideoTrack) {\r\n      // Create a VirtualBackgroundProcessor instance\r\n      let processorConst = extension.createProcessor();\r\n\r\n      try {\r\n        // Initialize the extension and pass in the URL of the Wasm file\r\n        await processorConst.init();\r\n        // Inject the extension into the video processing pipeline in the SDK\r\n        localVideoTrack.pipe(processorConst).pipe(localVideoTrack.processorDestination);\r\n        setProcessor(processorConst)\r\n        console.log(\"init background process\", processorConst);\r\n        return processorConst\r\n      } catch (e) {\r\n        console.log(\"background process Fail to load WASM resource!\"); return null;\r\n      }\r\n\r\n    } else {\r\n      return processor\r\n    }\r\n  }\r\n\r\n  // // Set a solid color as the background\r\n  // // eslint-disable-next-line\r\n  async function setBackgroundColor() {\r\n\r\n    if (localVideoTrack && !virtualBackgroundEnabled) {\r\n\r\n      let processorConst = await getProcessorInstance();\r\n      try {\r\n        processorConst.setOptions({ type: 'color', color: '#000000' });\r\n        await processorConst.enable();\r\n\r\n      } finally {\r\n        setVirtualBackgroundEnabled(true)\r\n      }\r\n    } else {\r\n\r\n      let processorConst = await getProcessorInstance();\r\n      try {\r\n        await processorConst.disable();\r\n\r\n      } finally {\r\n        setVirtualBackgroundEnabled(false)\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  // Blur the user's actual background\r\n  async function setBackgroundBlurring() {\r\n    if (localVideoTrack && !virtualBackgroundEnabled) {\r\n\r\n      let processorConst = await getProcessorInstance();\r\n      try {\r\n        processorConst.setOptions({ type: 'blur', blurDegree: 2 });\r\n        await processorConst.enable();\r\n\r\n      } finally {\r\n        setVirtualBackgroundEnabled(true)\r\n      }\r\n    } else {\r\n\r\n      let processorConst = await getProcessorInstance();\r\n      try {\r\n        await processorConst.disable();\r\n\r\n      } finally {\r\n        setVirtualBackgroundEnabled(false)\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n  // Set an image as the background\r\n  async function setBackgroundImage() {\r\n\r\n    // var image = new Image();\r\n    // image.onload = function () {\r\n    // }\r\n    // image.crossOrigin = \"anonymous\";\r\n    // image.src = \"https://miro.medium.com/max/1200/1*q4rL_nejz22KlgfYjfIOMg.png\"\r\n\r\n    // // const imgElement = document.createElement('img');\r\n    // // imgElement.src = 'https://miro.medium.com/max/1200/1*q4rL_nejz22KlgfYjfIOMg.png';\r\n    // image.width = 1000\r\n    // image.height = 1000\r\n\r\n    // const canvas = document.createElement(\"canvas\");\r\n    // const ctx = canvas.getContext(\"2d\");\r\n\r\n    // const image = new Image();\r\n    // image.src = \"https://images.pexels.com/photos/12043242/pexels-photo-12043242.jpeg\";\r\n    // image.crossOrigin = \"Anonymous\";\r\n\r\n    // image.onload = () => {\r\n    //   ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\r\n    // };\r\n\r\n\r\n\r\n    // const canvas = document.getElementById(\"canvas\");\r\n    // const ctx = canvas.getContext(\"2d\");\r\n\r\n    // const image = new Image();\r\n    // image.src = \"https://images.pexels.com/photos/12043242/pexels-photo-12043242.jpeg\";\r\n    // image.addEventListener(\"load\", () => {\r\n    //   ctx.drawImage(image, 0, 0, 233, 320);\r\n\r\n    //   const imageData = ctx.getImageData(10, 20, 80, 230);\r\n    //   ctx.putImageData(imageData, 260, 0);\r\n    //   ctx.putImageData(imageData, 380, 50);\r\n    //   ctx.putImageData(imageData, 500, 100);\r\n    // });\r\n\r\n\r\n    // if (localVideoTrack && !virtualBackgroundEnabled) {\r\n\r\n    //   let processorConst = await getProcessorInstance();\r\n    //   try {\r\n    //     processorConst.setOptions({\r\n    //       type: 'img', source: ctx\r\n    //     });\r\n    //     await processorConst.enable();\r\n    //   } catch (error) {\r\n    //     console.error(\"setBackgroundImage===>\", error)\r\n    //   }\r\n    //   finally {\r\n    //     setVirtualBackgroundEnabled(true)\r\n    //   }\r\n    // } else {\r\n\r\n    //   let processorConst = await getProcessorInstance();\r\n    //   try {\r\n    //     await processorConst.disable();\r\n\r\n    //   } finally {\r\n    //     setVirtualBackgroundEnabled(false)\r\n    //   }\r\n\r\n    // }\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  async function muteVideo(forceMute = false, setDisableVideo) {\r\n    if (localVideoTrack != null) {\r\n      if (!forceMute) {\r\n        console.log(\"muteVideo: \", localVideoTrack)\r\n        localVideoTrack.setEnabled(muteVideoState)\r\n        setDisableVideo(false)\r\n\r\n        setMuteVideoState(!muteVideoState)\r\n      } else {\r\n        localVideoTrack.setEnabled(false)\r\n        setDisableVideo(false)\r\n        setMuteVideoState(true)\r\n\r\n\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  async function forceAudio(forceMute = false) {\r\n    if (localAudioTrack != null) {\r\n      console.log(\"forceAudio: \", forceMute)\r\n      localAudioTrack.setEnabled(forceMute)\r\n      setMuteAudioState(forceMute)\r\n\r\n    }\r\n  }\r\n\r\n\r\n  async function forceVideo(forceMute) {\r\n    if (localVideoTrack != null && forceMute) {\r\n      console.log(\"forceVideo: \", forceMute)\r\n      localVideoTrack.setEnabled(!forceMute)\r\n      setTimeout(() => {\r\n        localVideoTrack.setEnabled(forceMute)\r\n        // localVideoTrack.setEnabled(!forceMute)\r\n        setMuteVideoState(!forceMute)\r\n      }, 200)\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  async function muteAudio(forceMute = false, setDisableAudio) {\r\n    if (localAudioTrack != null) {\r\n      if (!forceMute) {\r\n        console.log(\"MuteAudioState: \", muteAudioState)\r\n        localAudioTrack.setEnabled(muteAudioState)\r\n        setDisableAudio(false)\r\n        setMuteAudioState(!muteAudioState)\r\n      } else {\r\n        localAudioTrack.setEnabled(false)\r\n        setDisableAudio(false)\r\n        setMuteAudioState(true)\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  async function updateUsername(name) {\r\n    setIsUserAudience(name && name.startsWith('cue') ? false : true)\r\n    setUsername(name)\r\n  }\r\n  async function createLocalTracks() {\r\n    const [\r\n      microphoneTrack,\r\n      cameraTrack\r\n    ] = await AgoraRTC.createMicrophoneAndCameraTracks(\r\n      MicrophoneAudioTrackInitConfig,\r\n      CameraVideoTrackInitConfig\r\n    );\r\n    // microphoneTrack.setEnabled(false)\r\n    // cameraTrack.setEnabled(false)\r\n    // cameraTrack.play('me');\r\n\r\n    console.log(cameraTrack);\r\n\r\n    setLocalAudioTrack(microphoneTrack);\r\n    setLocalVideoTrack(cameraTrack);\r\n\r\n    return [microphoneTrack, cameraTrack];\r\n  }\r\n\r\n  async function join(channel, token, initRm, username_detail) {\r\n    if (!client) return;\r\n\r\n    console.log(\"Join --- 1\")\r\n    const [microphoneTrack, cameraTrack] = await createLocalTracks();\r\n    \r\n    await client.join(appid, channel, token, username_detail);\r\n    await client.setClientRole(isUserAudience ? 'audience':'host');\r\n    if(!isUserAudience){\r\n      await client.publish([microphoneTrack, cameraTrack]);\r\n      microphoneTrack.setEnabled(false)\r\n      cameraTrack.setEnabled(false)\r\n    }\r\n    setJoinState(true);\r\n    console.log(\"Join --- 2\")\r\n    initRm(username_detail)\r\n    getProcessorInstance()\r\n\r\n  }\r\n\r\n  async function leave() {\r\n    if (localAudioTrack) {\r\n      localAudioTrack.stop();\r\n      localAudioTrack.close();\r\n    }\r\n    if (localVideoTrack) {\r\n      localVideoTrack.stop();\r\n      localVideoTrack.close();\r\n    }\r\n    setRemoteUsers([]);\r\n    setJoinState(false);\r\n    await client.leave();\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!client) return;\r\n    setRemoteUsers(client.remoteUsers);\r\n\r\n    const handleUserPublished = async (user, mediaType) => {\r\n      await client.subscribe(user, mediaType);\r\n      console.log(\"agora----handleUserPublished user===>\", user)\r\n\r\n      // toggle rerender while state of remoteUsers changed.\r\n      setRemoteUsers((remoteUsers) => Array.from(client.remoteUsers));\r\n    };\r\n\r\n    const handleUserUnpublished = (user) => {\r\n      console.log(\"agora----handleUserUnpublished user===>\", user)\r\n\r\n      setRemoteUsers((remoteUsers) => Array.from(client.remoteUsers));\r\n    };\r\n\r\n    const handleUserJoined = (user) => {\r\n      console.log(\"agora----handleUserJoined user===>\", user)\r\n      // setUserId(user)\r\n\r\n      setRemoteUsers((remoteUsers) => Array.from(client.remoteUsers));\r\n    };\r\n\r\n    const handleUserLeft = (user) => {\r\n      console.log(\"agora----handleUserLeft user===>\", user)\r\n\r\n      setRemoteUsers((remoteUsers) => Array.from(client.remoteUsers));\r\n    };\r\n\r\n    const highlightingaSpeaker = (user) => {\r\n      console.log(\"agora----highlightingaSpeaker user===>\", user)\r\n      console.log(\"agora----highlightingaSpeaker remoteUsers===>\", remoteUsers)\r\n\r\n      // const remoteUidDataProcess = []\r\n      // for (var i = 0; i < user.length; i++) {\r\n      //   user.sort(function (a, b) { return b.level - a.level; });\r\n      // }\r\n\r\n      user.sort((a, b) => b.level - a.level)\r\n      // const remoteUidDataProcess = []\r\n      if (user?.length > 1) {\r\n        setCurrentSpeaker(user[0]?.uid)\r\n      }\r\n      // console.log(\"user---------->highlightingaSpeaker\", user)\r\n      // user.forEach((volume) => {\r\n      //   console.log(`UID ${volume.uid} Level ${volume.level}`);\r\n\r\n      //   if (volume.level > 5) {\r\n      //     setCurrentSpeaker(volume.uid)\r\n      //   }\r\n      //   if (username != volume.uid) {\r\n      //     remoteUidDataProcess.push(volume.uid)\r\n      //   }\r\n\r\n      // })\r\n\r\n\r\n    };\r\n\r\n\r\n\r\n    client.on(\"user-published\", handleUserPublished);\r\n    client.on(\"user-unpublished\", handleUserUnpublished);\r\n    client.on(\"user-joined\", handleUserJoined);\r\n    client.on(\"user-left\", handleUserLeft);\r\n    client.enableAudioVolumeIndicator();\r\n    client.on(\"volume-indicator\", highlightingaSpeaker);\r\n\r\n    return () => {\r\n      client.off(\"user-published\", handleUserPublished);\r\n      client.off(\"user-unpublished\", handleUserUnpublished);\r\n      client.off(\"user-joined\", handleUserJoined);\r\n      client.off(\"user-left\", handleUserLeft);\r\n      client.off(\"volume-indicator\", highlightingaSpeaker);\r\n    };\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  // useEffect(() => {\r\n  //   if (username !== currentSpeaker) {\r\n  //     setRemoteUsersSet([...new Set([currentSpeaker, ...remoteUsersSet])])\r\n  //   }\r\n  //   // eslint-disable-next-line\r\n  // }, [currentSpeaker])\r\n\r\n\r\n  useEffect(() => {\r\n    console.log(\"remoteUsersSet=====>userEffect\", remoteUsersSet)\r\n\r\n  }, [remoteUsersSet])\r\n\r\n\r\n  useEffect(() => {\r\n    const remoteUserProcess = remoteUsersMap != null ? remoteUsersMap : new Map();\r\n    const remoteUidDataProcess = []\r\n    // eslint-disable-next-line\r\n    remoteUsers.map((userData) => {\r\n      // console.log(\"userData====>uid\", userData?.uid)\r\n      // console.log(\"userData====>\", userData?.uid)\r\n      remoteUserProcess.set(userData?.uid, userData);\r\n      remoteUidDataProcess.push(userData?.uid)\r\n    })\r\n    setRemoteUsersMap(remoteUserProcess)\r\n    console.log(\"remoteUsersSet=====>\", remoteUidDataProcess)\r\n\r\n    setRemoteUsersSet([...new Set([...remoteUidDataProcess])])\r\n    // eslint-disable-next-line\r\n  }, [remoteUsers])\r\n\r\n\r\n  return {\r\n    localAudioTrack,\r\n    localVideoTrack,\r\n    joinState,\r\n    leave,\r\n    join,\r\n    remoteUsers,\r\n    isUserAudience,\r\n    muteVideo,\r\n    muteAudio,\r\n    muteVideoState,\r\n    muteAudioState,\r\n    // userId,\r\n    username,\r\n    updateUsername,\r\n    currentSpeaker,\r\n    setBackgroundBlurring,\r\n    setBackgroundColor,\r\n    remoteUsersMap,\r\n    remoteUsersSet,\r\n    setBackgroundImage,\r\n    forceAudio,\r\n    forceVideo\r\n  };\r\n}\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\nimport randomColor from \"randomcolor\";\r\n\r\n// import AgoraRTM from \"agora-rtm-sdk\";\r\n\r\n\r\n// import AgoraRTM from \"agora-rtm-sdk\";\r\n\r\n\r\n\r\n// let USER_ID = Math.floor(Math.random() * 100000001);\r\n\r\nexport default function useAgoraChat(client, channelName) {\r\n  // const [joinState, setJoinState] = useState(false);\r\n\r\n\r\n  // const {\r\n  //   muteVideo,\r\n  //   muteAudio,\r\n\r\n  // } = useAgora();\r\n  let [messages, setMessages] = useState([]);\r\n  // eslint-disable-next-line\r\n  let [members, setMembers] = useState([]);\r\n\r\n  let [currentMessage, setCurrentMessage] = useState();\r\n  let [buzzerPressedBy, setBuzzerIsPressedBy] = useState(\"\");\r\n\r\n  let [buzzersList, setBuzzersList] = useState([]);\r\n\r\n  // eslint-disable-next-line\r\n  let color = useRef(randomColor({ luminosity: \"dark\" })).current;\r\n  let channel = useRef(client.createChannel(channelName)).current;\r\n\r\n\r\n  let [poked, setPoked] = useState(null);\r\n  let [forceEnableVideo, setForceEnableVideo] = useState(false);\r\n\r\n\r\n  let [disableAudio, setDisableAudio] = useState(false);\r\n  let [disableVideo, setDisableVideo] = useState(false);\r\n  let [spotlightedUser, setSpotlightedUser] = useState(\"\");\r\n  let [pinUser, setPinUser] = useState(\"\");\r\n\r\n\r\n  const initRm = async (userId) => {\r\n    await client.login({\r\n      uid: userId.toString()\r\n    });\r\n\r\n    channel\r\n      .getMembers()\r\n      .then((res) => {\r\n        setMembers(res);\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    // if (!members.includes(USER_ID.toString())) {\r\n    await channel.join();\r\n    // }\r\n\r\n    await client.setLocalUserAttributes({\r\n      name: userId.toString(),\r\n      color\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    channel.on(\"ChannelMessage\", (data, uid) => {\r\n      console.log(\"agora----ChannelMessage user===>\", uid)\r\n\r\n      handleMessageReceived(data, uid);\r\n    });\r\n\r\n    channel.on(\"AttributesUpdated\", (attr) => {\r\n      console.log(\"agora----AttributesUpdated user===>\", attr)\r\n\r\n      console.log(\"==>AttributesUpdated\", JSON.stringify(attr))\r\n    });\r\n\r\n    client.on(\"MessageFromPeer\", async (message, memberId) => {\r\n      console.log(\"agora----MessageFromPeer user===>\", message)\r\n      const messageObj = JSON.parse(message?.text)\r\n\r\n      if (messageObj?.action === \"disableAudio\") {\r\n        setDisableAudio(true)\r\n        console.log(\"agora----disableAudio user===>\")\r\n      } else if (messageObj?.action === \"disableVideo\") {\r\n        setDisableVideo(true)\r\n        console.log(\"agora----disableVideo user===>\")\r\n      } else if (messageObj?.action === \"removeSpotlight\") {\r\n        setForceEnableVideo(true)\r\n        console.log(\"agora----disableVideo user===>\")\r\n      } else if (messageObj?.action === \"poked\") {\r\n        setPoked(memberId)\r\n      }\r\n\r\n      console.log(memberId + \"==>MessageFromPeer\", JSON.stringify(message))\r\n    });\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  async function handleMessageReceived(data, uid) {\r\n    // eslint-disable-next-line\r\n    let user = await client.getUserAttributes(uid);\r\n\r\n    console.log(\"agora----handleMessageReceived user===>\", user)\r\n\r\n    console.log(uid + \"==>text-----\", JSON.stringify(data))\r\n\r\n    const messageObj = JSON.parse(data?.text)\r\n    if (messageObj?.action === \"buzzer\") {\r\n      setBuzzerIsPressedBy(uid)\r\n    } else if (messageObj?.action === \"disableAudio\") {\r\n      setDisableAudio(true)\r\n      console.log(\"agora----disableAudio user===>\", user)\r\n    } else if (messageObj?.action === \"disableVideo\") {\r\n      setDisableVideo(true)\r\n      console.log(\"agora----disableVideo user===>\", user)\r\n    } else if (messageObj?.action === \"spotlight\") {\r\n      setSpotlightedUser(messageObj?.text)\r\n      setForceEnableVideo(false)\r\n    } else if (messageObj?.action === \"clear_buzzer\") {\r\n      setBuzzersList([])\r\n    } else if (messageObj?.action === \"poked\") {\r\n      setPoked(uid)\r\n    } else if (messageObj?.action === \"text\") {\r\n      const dataMessage = {\r\n        author: \"them\",\r\n        type: 'text',\r\n        data: {\r\n          text: uid + \": \" + messageObj?.text\r\n        },\r\n      }\r\n      setCurrentMessage(dataMessage);\r\n      // console.log(uid + \"1 ==>text-----\", JSON.stringify(dataMessage))\r\n    }\r\n  }\r\n\r\n  async function sendChannelMessage(text) {\r\n\r\n    const message = JSON.stringify({ text: text, action: \"text\" })\r\n\r\n    channel\r\n      .sendMessage({ text: message })\r\n      .then(async () => {\r\n        console.log(\"==>send \", JSON.stringify(text))\r\n        const data = {\r\n          author: \"me\",\r\n          type: 'text',\r\n          data: { text: text },\r\n        }\r\n        setCurrentMessage(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  async function pressedBuzzer(text) {\r\n    const message = JSON.stringify({ action: \"buzzer\" })\r\n    channel\r\n      .sendMessage({ text: message })\r\n      .then(async () => {\r\n        console.log(\"==>send pressedBuzzer \", JSON.stringify(text))\r\n\r\n        setBuzzerIsPressedBy(text);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n\r\n  async function sendChannelMessageToPeer(peerId) {\r\n    console.log(\"sendChannelMessageToPeer to\" + peerId)\r\n\r\n    const message = JSON.stringify({ action: \"poked\" })\r\n\r\n    client\r\n      .sendMessageToPeer({ text: message, offline: false }, peerId)\r\n      .then(async () => {\r\n        console.log(\"==>sendChannelMessageToPeer \", JSON.stringify(message))\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  async function clearPressedBuzzer() {\r\n\r\n    const message = JSON.stringify({ action: \"clear_buzzer\" })\r\n    channel\r\n      .sendMessage({ text: message })\r\n      .then(async () => {\r\n        setBuzzerIsPressedBy(\"\");\r\n\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (buzzerPressedBy?.length > 0) {\r\n      setBuzzersList([...buzzersList, buzzerPressedBy]);\r\n    } else {\r\n      setBuzzersList([]);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [buzzerPressedBy]);\r\n\r\n\r\n\r\n  async function mutePeerAudio(peerId) {\r\n    console.log(\"mutePeerAudio to\" + peerId)\r\n\r\n    const message = JSON.stringify({ action: \"disableAudio\" })\r\n\r\n    client\r\n      .sendMessageToPeer({ text: message, offline: false }, peerId)\r\n      .then(async () => {\r\n        console.log(\"==>mutePeerAudio \", JSON.stringify(message))\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n\r\n  async function mutePeerVideo(peerId) {\r\n    console.log(\"mutePeerVideo to\" + peerId)\r\n\r\n    const message = JSON.stringify({ action: \"disableVideo\" })\r\n\r\n    client\r\n      .sendMessageToPeer({ text: message, offline: false }, peerId)\r\n      .then(async () => {\r\n        console.log(\"==>mutePeerVideo \", JSON.stringify(message))\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n\r\n  async function spotlightUserAction(userId, username) {\r\n\r\n    // if (userId == spotlightedUser) {\r\n    //   setSpotlightedUser(userId)\r\n    // } else {\r\n    const message = JSON.stringify({ text: userId === spotlightedUser ? \"\" : userId, action: \"spotlight\" })\r\n    channel\r\n      .sendMessage({ text: message })\r\n      .then(async () => {\r\n        console.log(\"==>spotlightUserAction \", JSON.stringify(userId))\r\n        if (userId === spotlightedUser) {\r\n          removePeerSpotlight(spotlightedUser)\r\n        }\r\n        setSpotlightedUser(userId === spotlightedUser ? \"\" : userId)\r\n\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    // }\r\n\r\n  }\r\n  async function removePeerSpotlight(peerId) {\r\n    console.log(\"removePeerSpotlight to\" + peerId)\r\n    const message = JSON.stringify({ action: \"removeSpotlight\" })\r\n    client\r\n      .sendMessageToPeer({ text: message, offline: false }, peerId)\r\n      .then(async () => {\r\n        console.log(\"==>removePeerSpotlight \", JSON.stringify(message))\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function pinUserAction(userId) {\r\n    if (userId.length === 0) {\r\n      removePeerSpotlight(userId)\r\n    }\r\n    setPinUser(userId)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (currentMessage) setMessages([...messages, currentMessage]);\r\n    // eslint-disable-next-line\r\n  }, [currentMessage]);\r\n\r\n  return {\r\n    messages,\r\n    sendChannelMessage,\r\n    color,\r\n    initRm,\r\n    pressedBuzzer,\r\n    clearPressedBuzzer,\r\n    buzzersList,\r\n    poked,\r\n    setPoked,\r\n    sendChannelMessageToPeer,\r\n    disableAudio,\r\n    setDisableAudio,\r\n    disableVideo,\r\n    setDisableVideo,\r\n    spotlightedUser,\r\n    spotlightUserAction,\r\n    mutePeerVideo,\r\n    mutePeerAudio,\r\n    pinUser,\r\n    pinUserAction,\r\n    forceEnableVideo,\r\n  };\r\n}\r\n","import \"./Call.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport React, { useEffect, useState } from \"react\";\n\nimport AgoraRTC from \"agora-rtc-sdk-ng\";\nimport AgoraRTM from \"agora-rtm-sdk\";\nimport Backdrop from \"./SlideDrawer/Backdrop\";\n// import Draggable from 'react-draggable'; // The default\nimport { Launcher } from \"react-chat-window\"\n// import MainPage from \"./SlideDrawer/MainPage\";\nimport MediaPlayer from \"./components/MediaPlayer\";\nimport SlideDrawer from \"./SlideDrawer/SlideDrawer\";\n// import SlideDrawerGame from \"./SlideDrawer/SlideDrawerGame\";\nimport VirtualBackgroundExtension from \"agora-extension-virtual-background\";\nimport useAgora from \"./hooks/useAgora\";\nimport useAgoraChat from \"./hooks/useAgoraChat\";\n\n// import Permissions from './Permissions'\n\n\n\n\nexport const client = AgoraRTC.createClient({ codec: \"h264\", mode: \"live\" });\n// Create a VirtualBackgroundExtension instance\n\nexport const chatClient = AgoraRTM.createInstance(\"2e5346b36d1f40b1bbc62472116d96de\");\n\n\n\nexport const extension = new VirtualBackgroundExtension();\n// Register the extension\nAgoraRTC.registerExtensions([extension]);\n\nexport default function RoomApp() {\n  const [channel, setChannel] = useState(\"demo_channel\");\n  // // eslint-disable-next-line\n  // const [appid, setAppid] = useState(\"2e5346b36d1f40b1bbc62472116d96de\");\n  // eslint-disable-next-line\n  const [token, setToken] = useState(\"007eJxTYPCNtm5i/sPmxvNRI3Ole0v/xodHem5Pm80RPXliv5H9s48KDOYmhqlmhpZGhklGFiZpJilJSclpqUnJhpZmSckpxsYWa7jnJTcEMjJY6a9jYWSAQBCfhyElNTc/PjkjMS8vNYeBAQA1zCJS\");\n\n  let channelName = channel;\n  // eslint-disable-next-line\n\n\n  // eslint-disable-next-line\n  const { initRm, messages, sendChannelMessage, color,\n    pressedBuzzer,\n    clearPressedBuzzer,\n    buzzersList,\n    poked,\n    sendChannelMessageToPeer,\n    disableAudio,\n    setDisableAudio,\n    disableVideo,\n    setDisableVideo,\n    spotlightedUser,\n    spotlightUserAction,\n    mutePeerAudio,\n    mutePeerVideo,\n    pinUser,\n    pinUserAction,\n    forceEnableVideo\n  } = useAgoraChat(\n    chatClient,\n    channelName,\n  );\n  const [poketoUser, setPokeToUser] = useState(\"\");\n\n  const {\n    localAudioTrack,\n    localVideoTrack,\n    leave,\n    join,\n    joinState,\n    remoteUsers,\n    muteVideo,\n    muteAudio,\n    muteVideoState,\n    muteAudioState,\n    updateUsername,\n    username,\n    isUserAudience,\n    currentSpeaker,\n    setBackgroundBlurring,\n    setBackgroundColor,\n    remoteUsersMap,\n    remoteUsersSet,\n    forceVideo\n  } = useAgora(client, extension);\n\n  useEffect(() => {\n\n    if (forceEnableVideo && !muteVideoState) {\n      forceVideo(true)\n      console.log(\"App.js Disable Audio\")\n    }\n    // eslint-disable-next-line\n  }, [forceEnableVideo])\n\n\n  useEffect(() => {\n    if (disableAudio) {\n      muteAudio(true, setDisableAudio)\n      console.log(\"App.js Disable Audio\")\n\n    }\n\n    if (disableVideo) {\n      muteVideo(true, setDisableVideo)\n      console.log(\"App.js Disable Video\")\n    }\n    // eslint-disable-next-line\n  }, [disableAudio, disableVideo])\n\n  // // eslint-disable-next-line\n  // function submitMessage(event) {\n  //   console.log(event);\n  //   if (event.keyCode === 13) {\n  //     event.preventDefault();\n  //     if (textArea.trim().length === 0) return;\n  //     console.log(\"event.target.value\", event.target.value)\n  //     sendChannelMessage(event.target.value);\n  //     setTextArea(\"\");\n  //   }\n  // }\n\n  // eslint-disable-next-line\n  function virtualBackgroundExtension() {\n    console.log(\"virtualBackgroundExtension\");\n    setBackgroundBlurring()\n  }\n\n  const drawerToggleClickHandler = () => {\n    setDrawerOpen(!drawerOpen)\n  }\n\n\n  // eslint-disable-next-line\n  const drawerGameToggleClickHandler = () => {\n    setDrawerGameOpen(!drawerGameOpen)\n  }\n  const [drawerOpen, setDrawerOpen] = useState(false)\n  const [drawerGameOpen, setDrawerGameOpen] = useState(false)\n\n  // const captureUserMedia = callback => {\n  //   navigator.mediaDevices.getUserMedia({ audio: true, video: false })\n  //     .then(callback)\n  //     .catch(err => {\n  //       window.chrome.tabs.create({\n  //         url: 'request-mic.html'\n  //       });\n  //     });\n  // };\n\n  const [spotlightedUserDetails, setSpotlightedUserDetails] = useState(null)\n  const [pinUserDetails, setPinUserDetails] = useState(null)\n\n  useEffect(() => {\n    if (spotlightedUser?.length > 0) {\n      const user = remoteUsersMap.get(spotlightedUser)\n      setSpotlightedUserDetails(user)\n    } else {\n      setSpotlightedUserDetails(null)\n    }\n\n    // eslint-disable-next-line\n  }, [spotlightedUser])\n\n  useEffect(() => {\n    console.log(\"\")\n    if (pinUser?.length > 0) {\n      const user = remoteUsersMap.get(pinUser)\n      setPinUserDetails(user)\n    } else {\n      setPinUserDetails(null)\n    }\n\n    // eslint-disable-next-line\n  }, [pinUser])\n\n  return (\n    <div>\n      {\n        joinState ? <div> <h3>SpotlightedUser Speaking: {spotlightedUser}</h3>\n          <br />\n          <h3>===============================================</h3>\n          <br />\n\n          {\n            spotlightedUserDetails !== null ? <> <div className=\"remote-player-wrapper\" key={spotlightedUser} >\n              <MediaPlayer\n                isSelf={false}\n                videoTrack={spotlightedUserDetails?.videoTrack}\n                audioTrack={spotlightedUserDetails?.audioTrack}\n                username={spotlightedUserDetails?.uid}\n              ></MediaPlayer>\n              <label>{spotlightedUserDetails?.uid} </label> {\" || \"}\n              <label> {spotlightedUserDetails?._video_muted_ ? \"Video disabled\" : \"Video enabled\"}</label>\n              {\" || \"}\n              <label> {spotlightedUserDetails?._audio_muted_ ? \"Audio disabled\" : \"Audio enabled\"}</label>\n            </div> </> : pinUserDetails !== null ? <> <div className=\"remote-player-wrapper\" key={pinUser} >\n              <MediaPlayer\n                isSelf={false}\n                videoTrack={pinUserDetails?.videoTrack}\n                audioTrack={pinUserDetails?.audioTrack}\n                username={pinUserDetails?.uid}\n              ></MediaPlayer>\n              <label>{pinUserDetails?.uid} </label> {\" || \"}\n              <label> {pinUserDetails?._video_muted_ ? \"Video disabled\" : \"Video enabled\"}</label>\n              {\" || \"}\n              <label> {pinUserDetails?._audio_muted_ ? \"Audio disabled\" : \"Audio enabled\"}</label>\n            </div> </> : null\n          }\n\n\n\n\n          <br />\n          <h3>===============================================</h3>\n          <br />\n\n          <h3>Currently Speaking: {currentSpeaker}</h3>\n        </div> : null\n      }\n\n\n\n      {\n        joinState ? <div > <button\n          type=\"button\"\n          className=\"btn btn-primary btn-sm\"\n          onClick={() => {\n            drawerToggleClickHandler()\n          }}\n        >\n          Show Participants\n        </button> <button\n          id=\"leave\"\n          type=\"button\"\n          className=\"btn btn-primary btn-sm\"\n          disabled={!joinState}\n          onClick={() => {\n            leave();\n          }}\n        >\n            Leave\n          </button>\n          {\"        \"}\n\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-sm\"\n            onClick={() => {\n              pressedBuzzer(username);\n            }}\n          >\n            Press Buzzer\n          </button>\n          {\"        \"}\n          <button\n            id=\"clearBuzzerPressed\"\n            type=\"button\"\n            className=\"btn btn-primary btn-sm\"\n            onClick={() => {\n              clearPressedBuzzer();\n            }}\n          >\n            Clear Buzzer\n\n          </button>\n\n        </div>\n          : null\n      }\n      < SlideDrawer\n        mutePeerAudio={mutePeerAudio}\n        mutePeerVideo={mutePeerVideo}\n        show={drawerOpen}\n        drawerToggleClickHandler={drawerToggleClickHandler}\n        remoteUsers={remoteUsers}\n        spotlightedUser={spotlightedUser}\n        spotlightUserAction={spotlightUserAction}\n\n        pinUser={pinUser}\n        pinUserAction={pinUserAction}\n      />\n      {/* < SlideDrawerGame show={drawerGameOpen} drawerToggleClickHandler={drawerGameToggleClickHandler} joinState={joinState} username={username} /> */}\n      {drawerOpen ? <Backdrop /> : null}\n      {joinState ? <form className=\"call-form\">\n        <input\n          type=\"text\"\n          value={poketoUser}\n          name=\"poketoUser\"\n          onChange={(event) => {\n            setPokeToUser(event.target.value);\n          }}\n        />\n        {\"        \"}\n\n        <button\n          type=\"button\"\n          className=\"btn btn-primary btn-sm\"\n          onClick={() => {\n            sendChannelMessageToPeer(poketoUser);\n          }}\n        >\n          Poke User\n        </button>\n\n\n        <h5>Who poked you {poked}</h5>\n\n\n      </form> : null}\n      <div className=\"call\">\n\n        {\n          !joinState ? <form className=\"call-form\">\n\n            <label>\n              Username:\n              <input\n                value={username}\n                type=\"text\"\n                name=\"username\"\n                onChange={(event) => {\n                  updateUsername(event.target.value);\n                }}\n              />\n            </label>\n\n            <br />\n            <br />\n\n            <label>\n              Token(Optional):\n              <input\n                type=\"text\"\n                name=\"token\"\n                value={token}\n                onChange={(event) => {\n                  setToken(event.target.value);\n                }}\n              />\n            </label>\n            <label>\n              <b> Channel: </b>\n              <input\n                type=\"text\"\n                value={channel}\n                name=\"channel\"\n                onChange={(event) => {\n                  setChannel(event.target.value);\n                }}\n              />\n            </label>\n\n            {\n              username.length > 3 ? <div className=\"button-group\">\n                <button\n                  id=\"join\"\n                  type=\"button\"\n                  className=\"btn btn-primary btn-sm\"\n                  disabled={joinState}\n                  onClick={() => {\n                    join(channel, token, initRm, username);\n                  }}\n                >\n                  Join\n                </button>\n              </div> : null\n            }\n\n          </form> :\n            null\n        }\n        <br />\n        <div className=\"player-container\">\n\n\n          <div className=\"remotePlayers\">\n            <div class=\"wrapper\">\n\n              {\n                joinState ?\n                  <div className=\"local-player-wrapper\"\n                  // style={{\n                  //   position: 'absolute',\n                  // }}\n                  >\n                    <MediaPlayer\n                      isSelf={true}\n                      videoTrack={localVideoTrack}\n                      audioTrack={localAudioTrack}\n                      username={username}\n                    />\n                    <label>{username} </label> {\" || \"}\n                    <label> {muteVideoState ? \"Video disabled\" : \"Video enabled\"}</label>\n                    {\" || \"}\n                    <label> {muteAudioState ? \"Audio disabled\" : \"Audio enabled\"}</label>\n                    <br />\n\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-primary btn-sm\"\n                      onClick={() => {\n                        virtualBackgroundExtension()\n                      }}\n                    >\n                      Virtual Background\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-primary btn-sm\"\n                      onClick={() => {\n                        setBackgroundColor()\n                      }}\n                    >\n                      Black Background\n                    </button>\n                    {/* <Imagebackground /> */}\n                    {/* <button\n                      type=\"button\"\n                      className=\"btn btn-primary btn-sm\"\n                      onClick={() => {\n                        setBackgroundImage()\n                      }}\n                    >\n                      Image Background\n                    </button> */}\n\n\n                    <br />\n                    <br />\n                    {!isUserAudience && (\n                      <>\n                         <button\n                      type=\"button\"\n                      className=\"btn btn-primary btn-sm\"\n                      disabled={!joinState}\n                      onClick={() => {\n                        muteAudio(false, setDisableAudio)\n                      }}\n                    >\n                      {!muteAudioState ? \"MuteAudio\" : \"UnmuteAudio\"}\n                    </button>\n                    {\"        \"}\n                    <button\n                      id=\"leave\"\n                      type=\"button\"\n                      className=\"btn btn-primary btn-sm\"\n                      disabled={!joinState}\n                      onClick={() => {\n                        muteVideo(false, setDisableVideo);\n                      }}\n                    >\n                      {!muteVideoState ? \"MuteVideo\" : \"UnmuteVideo\"}\n\n                    </button>\n                      </>\n                    )}\n                   \n                  </div> : null\n              }\n              {/* remoteUsersMap,\n              remoteUsersSet */}\n              {remoteUsersSet.map((userId) => {\n                const user = remoteUsersMap.get(userId)\n                console.log(\"remoteUsersSet abhishek\", user)\n                // return (<div><p>{userId + \"--\" + JSON.stringify(user)}</p></div>)\n                return (<div>{\n                  user === null || spotlightedUser === userId ? null : <div className=\"remote-player-wrapper\" key={userId} >\n                    <MediaPlayer\n                      isSelf={false}\n                      videoTrack={user?.videoTrack}\n                      audioTrack={user?.audioTrack}\n                      username={user?.uid}\n                    ></MediaPlayer>\n                    <label>{user?.uid} </label> {\" || \"}\n                    <label> {user?._video_muted_ ? \"Video disabled\" : \"Video enabled\"}</label>\n                    {\" || \"}\n                    <label> {user?._audio_muted_ ? \"Audio disabled\" : \"Audio enabled\"}</label>\n                    <label> User int Id {user?._uintid}</label>\n\n\n                  </div>\n                }</div>)\n              }\n              )}\n            </div>\n          </div>\n        </div>\n      </div >\n      {\n        joinState ? <Launcher\n          agentProfile={{\n            teamName: 'Room Chat',\n            imageUrl: 'https://a.slack-edge.com/66f9/img/avatars-teams/ava_0001-34.png'\n          }\n          }\n          onMessageWasSent={(data) => {\n            // if (text.trim().length === 0) return;\n            console.log(\"event.target.value\", data?.data?.text)\n            sendChannelMessage(data?.data?.text);\n            // setTextArea(\"\");\n          }\n          }\n          messageList={messages}\n          showEmoji={false}\n\n        /> : null}\n\n      {\n        joinState ? <div>\n          <label>Buzzer is pressed by</label>\n          <br />\n          {buzzersList?.map((user, index) => (\n            <div className=\"remote-player-wrapper\" key={user}>\n              <label>{index + 1}: {user}</label>\n            </div>))}\n        </div> : null\n      }\n      {/* <canvas id=\"canvas\" width=\"700\" height=\"400\"></canvas> */}\n\n    </div >\n  );\n}\n","import CueHeader from './assets/public/CueHeader'\r\nimport React from 'react'\r\nimport RoomApp from './RoomApp'\r\n\r\nexport default function App() {\r\n    return (\r\n        <>\r\n            <CueHeader />\r\n            <RoomApp />\r\n        </>\r\n    )\r\n}","import App from \"./App\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <App />,\n  rootElement\n);\n"],"sourceRoot":""}